import{k as l,a as d}from"./index-D2w1bL17.js";const n=l("statusStore",{stste:()=>({isLoading:!1})});var g={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"jeff_hexschool",BASE_URL:"/PorkShop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:r,VITE_PATH:o}=g,a=n(),L=l("cartStore",{stste:()=>({carts:[],cartslength:0,addCartLoadingItem:"",cartQtyLoading:"",delCart:""}),actions:{getCarts(){a.isLoading=!0;const t=`${r}/api/${o}/cart`;d.get(t).then(s=>{this.carts=s.data.data,this.cartslength=s.data.data.carts.length}).catch(()=>{this.carts=[],this.cartslength=0}),a.isLoading=!1},addToCart(t,s=1){a.isLoading=!0,this.addCartLoading=t;let e=`${r}/api/${o}/cart`,i="post",c={product_id:t,qty:s};d[i](e,{data:c}).then(h=>{this.addCartLoading="",h.data.success&&this.getCarts()}).catch(()=>{this.addCartLoading="",a.isLoading=!1})},cartChangeQty(t,s=1){a.isLoading=!0,this.cartQtyLoading=t.id;let e=`${r}/api/${o}/cart/${t.id}`,i="put",c={product_id:t.product.id,qty:s};d[i](e,{data:c}).then(h=>{this.cartQtyLoading="",h.data.success&&this.getCarts()}).catch(()=>{this.cartQtyLoading="",a.isLoading=!1})},delCartItem(t){a.isLoading=!0,this.delCart=t;let s=`${r}/api/${o}/cart/${t}`;d["delete"](s).then(i=>{this.delCart="",i.data.success&&this.getCarts()}).catch(()=>{a.isLoading=!1})},delAllCart(){a.isLoading=!0,this.delCart="delAll";let t=`${r}/api/${o}/carts`;d["delete"](t).then(e=>{this.delCart="",e.data.success&&this.getCarts()}).catch(()=>{a.isLoading=!1})}}});export{L as c,n as s};
